# üé® UI-–ø–æ–ª–∏—à - –î—Ä—É–∂–µ–ª—é–±–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏

## –û–±–∑–æ—Ä

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π –∏ –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–π —Å–ø—Ä–∞–≤–∫–æ–π, –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–µ–π.

## üöÄ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ `/help`

–ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Å–ø—Ä–∞–≤–∫—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–≤–æ–µ–π —Ä–æ–ª–∏:

- **üë©‚Äçüè´ –£—á–∏—Ç–µ–ª—å**: `/notes`, `/addnote`, `/ticket`
- **üèõ –ê–¥–º–∏–Ω**: `/tickets`, `/broadcast`
- **üìà –î–∏—Ä–µ–∫—Ç–æ—Ä**: `/kpi`
- **üë™ –†–æ–¥–∏—Ç–µ–ª—å**: `/tasks`, `/cert`
- **üë®‚Äçüéì –£—á–µ–Ω–∏–∫**: `/tasks`, `/ask`
- **üßë‚Äç‚öïÔ∏è –ü—Å–∏—Ö–æ–ª–æ–≥**: `/inbox`

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∫–æ–º–∞–Ω–¥

–ü—Ä–∏ –≤–≤–æ–¥–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –¥—Ä—É–∂–µ–ª—é–±–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
ü§î –ù–µ –ø–æ–Ω—è–ª –∑–∞–ø—Ä–æ—Å. –ù–∞–∂–º–∏—Ç–µ /help.
```

### 3. –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –æ—à–∏–±–∫–∏

–í—Å–µ –æ—à–∏–±–∫–∏ —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
‚ö†Ô∏è –ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.
```

### 4. –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –∫–Ω–æ–ø–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ä—É—Å—Å–∫–∏–π –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫–∏.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### i18n —Ñ–∞–π–ª—ã
- `app/i18n/ru.toml` - —Ä—É—Å—Å–∫–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
- `app/i18n/en.toml` - –∞–Ω–≥–ª–∏–π—Å–∫–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

### Middleware
- `app/middlewares/ux.py` - UX middleware –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

### –•—ç–Ω–¥–ª–µ—Ä—ã
- `app/handlers/help.py` - —Ö—ç–Ω–¥–ª–µ—Ä –∫–æ–º–∞–Ω–¥—ã `/help`

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### Middleware UX

```python
class UnknownCommandMiddleware(BaseMiddleware):
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π"""
    
class FallbackMiddleware(BaseMiddleware):
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∫–æ–º–∞–Ω–¥"""
```

### –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞

```python
@router.message(Command("help"))
async def help_cmd(msg: Message, lang: str):
    role = await role_of(msg.from_user.id)
    txt = t("common.help_header", lang) + "\n\n" + t(f"help.{role}", lang)
    await msg.answer(txt)
```

### –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

```toml
[common]
help_header = "üÜò –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:"
unknown_cmd = "ü§î –ù–µ –ø–æ–Ω—è–ª –∑–∞–ø—Ä–æ—Å. –ù–∞–∂–º–∏—Ç–µ /help."
error_generic = "‚ö†Ô∏è –ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ."

[help]
teacher = "üë©‚Äçüè´ –£—á–∏—Ç–µ–ª—å:\n‚Ä¢ /notes ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞–º–µ—Ç–æ–∫\n‚Ä¢ /addnote ‚Äî –¥–æ–±–∞–≤–∏—Ç—å\n‚Ä¢ /ticket ‚Äî –∑–∞—è–≤–∫–∞ IT"
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –¢–µ—Å—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–π —Å–ø—Ä–∞–≤–∫–∏
```bash
# –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ —É—á–∏—Ç–µ–ª—å –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ /help
# –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–ø—Ä–∞–≤–∫–∞ –¥–ª—è —É—á–∏—Ç–µ–ª—è
```

### 2. –¢–µ—Å—Ç –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã
```bash
# –û—Ç–ø—Ä–∞–≤—å—Ç–µ /unknowncmd
# –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è: "ü§î –ù–µ –ø–æ–Ω—è–ª –∑–∞–ø—Ä–æ—Å. –ù–∞–∂–º–∏—Ç–µ /help."
```

### 3. –¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
```bash
# –û—Ç–ø—Ä–∞–≤—å—Ç–µ /crash
# –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è: "‚ö†Ô∏è –ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ."
# –ò –æ—à–∏–±–∫–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–ø–∞—Å—Ç—å –≤ Sentry
```

### 4. –¢–µ—Å—Ç –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∫–Ω–æ–ø–∫–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
# –ü—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π - –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º —Å—Ç–∏–ª–µ

‚úÖ **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞** - –∫–∞–∂–¥—ã–π –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∫–æ–º–∞–Ω–¥—ã

‚úÖ **–î—Ä—É–∂–µ–ª—é–±–Ω—ã–µ –æ—à–∏–±–∫–∏** - –Ω–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö stack traces

‚úÖ **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ

‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∫–æ–º–∞–Ω–¥** - –ø–æ–Ω—è—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏

## üìä –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º

- –í—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ Sentry
- –ú–µ—Ç—Ä–∏–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è Prometheus
- –ê–ª–µ—Ä—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ Telegram
- –î–∞—à–±–æ—Ä–¥—ã –¥–æ—Å—Ç—É–ø–Ω—ã –≤ Grafana

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–¢–µ–º—ã –∏ —ç–º–æ–¥–∑–∏** - —Ç—ë–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞
2. **GlitchTip** - –ª—ë–≥–∫–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Sentry
3. **AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç** - –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ 