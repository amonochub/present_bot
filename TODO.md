# TODO - –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ SchoolBot

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ)

### 1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å pre-commit hooks
- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å pre-commit
- [x] –°–æ–∑–¥–∞—Ç—å .pre-commit-config.yaml
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏: mypy, ruff, black
- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–æ–¥–µ

### 2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å CI/CD –ø—Ä–æ–≤–µ—Ä–∫–∏
- [x] –°–æ–∑–¥–∞—Ç—å GitHub Actions workflow
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ mypy, ruff, black
- [x] –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã pytest
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### 3. üîÑ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ mypy –æ—à–∏–±–∫–∏ (44)
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å sessionmaker —Ç–∏–ø–∏–∑–∞—Ü–∏—é –≤ app/db/session.py
- [x] –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø–∏–∑–∞—Ü–∏—é –≤ utility —Ñ—É–Ω–∫—Ü–∏–∏
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å SQLAlchemy –º–æ–¥–µ–ª–∏
- [x] –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø–∏–∑–∞—Ü–∏—é –≤ config.py
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ app/bot.py
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å enum –ø–æ–ª—è–º–∏
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å middleware
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å route handlers
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å keyboards
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å repositories
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å services
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å route handlers (teacher, student, psych, parent, admin, director)
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å middleware (ux, sentry_context)
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å services (scheduler, notification_service)
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å handlers (onboarding)
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å InlineKeyboardButton
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å union-attr –≤ theme.py –∏ help.py
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å rate_limit –∏ audit middleware
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å return value –≤ theme.py
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å teacher.py route handlers
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å InlineKeyboardButton arguments
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å psych.py return statements
- [x] –î–æ–±–∞–≤–∏—Ç—å list_all —Ñ—É–Ω–∫—Ü–∏—é –≤ psych_repo.py
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å union-attr –≤ theme.py
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å rate_limit middleware type annotations
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å audit middleware missing return
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å onboarding.py null checks
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å teacher.py user.id checks
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å student.py user.id checks
- [x] –£–±—Ä–∞—Ç—å unused type ignore –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å parent.py pdf_factory imports
- [x] –£–±—Ä–∞—Ç—å unused type ignore –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (–≤—Ç–æ—Ä–æ–π —Ä–∞—É–Ω–¥)
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ union-attr –æ—à–∏–±–∫–∏ (—ç—Ç–∞–ø 1)
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è 44 –æ—à–∏–±–∫–∏

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ)

### 4. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è ruff –æ—à–∏–±–∫–∏ (22)
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –¥–ª–∏–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ (15 –æ—à–∏–±–æ–∫)
- [x] –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∏–º–ø–æ—Ä—Ç—ã –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–æ–≤ (4 –æ—à–∏–±–∫–∏)
- [x] –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã (3 –æ—à–∏–±–∫–∏)

### 5. üîÑ –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø–∏–∑–∞—Ü–∏—é –≤ –º–æ–¥—É–ª–∏
- [ ] app/i18n/__init__.py
- [ ] app/roles.py
- [ ] app/utils/sentry.py
- [ ] app/config.py

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ)

### 6. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ code reviews
- [x] –°–æ–∑–¥–∞—Ç—å checklist –¥–ª—è code reviews
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å

### 7. üîÑ –£–ª—É—á—à–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- [ ] –û–±–Ω–æ–≤–∏—Ç—å README.md
- [ ] –î–æ–±–∞–≤–∏—Ç—å CONTRIBUTING.md
- [ ] –°–æ–∑–¥–∞—Ç—å CODE_STYLE.md

## üìä –ü—Ä–æ–≥—Ä–µ—Å—Å

### –¢–µ–∫—É—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏:
- **Ruff –æ—à–∏–±–∫–∏**: 0 (–±—ã–ª–æ 166) ‚úÖ **-100%**
- **Mypy –æ—à–∏–±–∫–∏**: 44 (–±—ã–ª–æ 303) ‚úÖ **-85.5%**
- **Black —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: 0 —Ñ–∞–π–ª–æ–≤ (–±—ã–ª–æ 63) ‚úÖ **-100%**

### –¶–µ–ª–∏:
- **Ruff –æ—à–∏–±–∫–∏**: 0 ‚úÖ **–î–û–°–¢–ò–ì–ù–£–¢–û!**
- **Mypy –æ—à–∏–±–∫–∏**: <50
- **Black —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: 0 ‚úÖ **–î–û–°–¢–ò–ì–ù–£–¢–û!**

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### Pre-commit hooks
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω pre-commit
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏: black, ruff, mypy, isort
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã security checks (bandit)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã trailing whitespace –∏ end-of-file fixers

### CI/CD Pipeline
- ‚úÖ –°–æ–∑–¥–∞–Ω GitHub Actions workflow (.github/workflows/ci.yml)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ç–µ—Å—Ç—ã —Å PostgreSQL –∏ Redis
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω coverage reporting

### Code Review Process
- ‚úÖ –°–æ–∑–¥–∞–Ω CODE_REVIEW_CHECKLIST.md
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –ø—Ä–æ—Ü–µ—Å—Å

### Ruff Error Fixes
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ 166 ruff –æ—à–∏–±–æ–∫** (100% –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π)
- ‚úÖ –î–ª–∏–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ —Ä–∞–∑–±–∏—Ç—ã –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫
- ‚úÖ –ò–º–ø–æ—Ä—Ç—ã –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã —É–¥–∞–ª–µ–Ω—ã
- ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏—è —Å False –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ .is_(False)

### Mypy Error Fixes
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ 259 mypy –æ—à–∏–±–æ–∫** (85.5% –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π)
- ‚úÖ Sessionmaker —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- ‚úÖ SQLAlchemy –º–æ–¥–µ–ª–∏ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ Utility —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–ª—É—á–∏–ª–∏ type hints
- ‚úÖ Config.py —Ç–∏–ø–∏–∑–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞
- ‚úÖ Enum –ø–æ–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ app/bot.py –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ Null checks –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ Middleware —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- ‚úÖ Route handlers —Ç–∏–ø–∏–∑–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞
- ‚úÖ Keyboards —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- ‚úÖ Repositories —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- ‚úÖ Services —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- ‚úÖ Route handlers (teacher, student, psych, parent, admin, director) –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ Middleware (ux, sentry_context) –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ Services (scheduler, notification_service) –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ Handlers (onboarding) –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ InlineKeyboardButton –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ Union-attr –ø—Ä–æ–±–ª–µ–º—ã –≤ theme.py –∏ help.py –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ Rate_limit –∏ audit middleware –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ Return value –ø—Ä–æ–±–ª–µ–º—ã –≤ theme.py –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ Teacher.py route handlers –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ InlineKeyboardButton arguments –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ Psych.py return statements –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ List_all —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ psych_repo.py
- ‚úÖ Union-attr –ø—Ä–æ–±–ª–µ–º—ã –≤ theme.py –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ Rate_limit middleware type annotations –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ Audit middleware missing return –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- ‚úÖ Onboarding.py null checks –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ Teacher.py user.id checks –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ Student.py user.id checks –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ Unused type ignore –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —É–±—Ä–∞–Ω—ã
- ‚úÖ Parent.py pdf_factory imports –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ Unused type ignore –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —É–±—Ä–∞–Ω—ã (–≤—Ç–æ—Ä–æ–π —Ä–∞—É–Ω–¥)
- ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ union-attr –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã (—ç—Ç–∞–ø 1)

## üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ mypy –æ—à–∏–±–æ–∫
- üîÑ sessionmaker —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- üîÑ utility —Ñ—É–Ω–∫—Ü–∏–∏
- üîÑ SQLAlchemy –º–æ–¥–µ–ª–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –≤ –º–æ–¥—É–ª–∏
- üîÑ app/i18n/__init__.py
- üîÑ app/roles.py
- üîÑ app/utils/sentry.py
- üîÑ app/config.py

## üéâ –ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

### ‚úÖ Ruff - 100% –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π!
- **–ë—ã–ª–æ**: 166 –æ—à–∏–±–æ–∫
- **–°—Ç–∞–ª–æ**: 0 –æ—à–∏–±–æ–∫
- **–£–ª—É—á—à–µ–Ω–∏–µ**: -100%

### ‚úÖ Black - 100% –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π!
- **–ë—ã–ª–æ**: 63 —Ñ–∞–π–ª–∞ –Ω—É–∂–¥–∞–ª–∏—Å—å –≤ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- **–°—Ç–∞–ª–æ**: 0 —Ñ–∞–π–ª–æ–≤
- **–£–ª—É—á—à–µ–Ω–∏–µ**: -100%

### ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- ‚úÖ –ò–º–ø–æ—Ä—Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –î–ª–∏–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ —Ä–∞–∑–±–∏—Ç—ã
- ‚úÖ –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã
- ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏—è —Å False –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

---

*–°–æ–∑–¥–∞–Ω–æ: 2024-01-XX*
*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2024-01-XX*
